<!doctype html >
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>회원가입</title>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}">
</head>
<th:block layout:fragment="css">
    <style>
        button{
        width:100%;
        }
    </style>
</th:block>
<body>


<div layout:fragment="content">
    <div class = "form-container">
        <div class = "form-box">
            <form action="/member/mypage/rePw" role="form" th:object="${passwordChangeFormDto}" method="post" >


                <div class = "form-group">
                    <!--현재 비밀번호-->
                    <input type = "password" th:field="*{currentPassword}" class = "form-control" placeholder="현재 비밀번호(영문대/소문자,숫자,특수문자 중 2가지 이상 조합하세요.)">
                    <p th:if="${#fields.hasErrors('currentPassword')}" th:errors="*{currentPassword}" class="fieldError"></p>

                    <hr>
                </div>
                <div class = "form-group">
                    <!--새 비밀번호 입력-->
                    <input type = "password" th:field="*{newPassword}" class = "form-control" placeholder="새 비밀번호를 입력해주세요.">
                    <p th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}" class="fieldError"></p>
                    <hr>
                </div>
                <div class = "form-group">
                    <!--새 비밀번호 입력-->
                    <input type = "password" th:field="*{confirmPassword}" class = "form-control" placeholder="새 비밀번호 확인을 입력해주세요.">
                    <p th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="fieldError"></p>
                    <hr>
                </div>
                <button type="submit" class="btn btn-danger">비밀번호 변경</button>
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">



            </form>
        </div>
    </div>

</div>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>

<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<th:block layout:fragment="script">
    <script th:inline="javascript">
        $(document).ready(function(){
          var errorMessage = [[${errorMessage}]];
          if(errorMessage != null){
            alert(errorMessage);
          }
        });

    </script>
</th:block>

</body>
</html>